(()=>{"use strict";const e=document.querySelector("#location-input");function t(e){const t=document.querySelector("#icon"),n=document.querySelector("#temperature"),c=document.querySelector("#description"),o=document.querySelector("#wind-info"),a=document.querySelector("#humidity-info"),r=document.querySelector("#sticky-part"),i=e.current.weather[0].main;return n.innerText=Math.ceil(e.current.temp)+"°",c.innerText=i,o.innerText=e.current.wind_speed+"km/h",a.innerText=e.current.humidity+"%","Clear"==i&&(document.body.style.background="var(--sunny)",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?r.style.background="var(--sunny)":r.style.background="transparent",t.src="https://img.icons8.com/cute-clipart/256/000000/sun.png"),"Clouds"==i&&(document.body.style.background="var(--cloud)",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?r.style.background="var(--cloud)":r.style.background="transparent",t.src="https://img.icons8.com/cute-clipart/256/000000/cloud.png"),"Rain"==i&&(document.body.style.background="var(--rain)",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?r.style.background="var(--rain)":r.style.background="transparent",t.src="https://img.icons8.com/cute-clipart/256/000000/cloud-lighting.png"),console.log(e),i}function n(e){document.querySelector("#location-input").value=e.name+", "+e.country}function c(e){let t=new Map;t.set(0,"Sunday"),t.set(1,"Monday"),t.set(2,"Tuesday"),t.set(3,"Wednesday"),t.set(4,"Thursday"),t.set(5,"Friday"),t.set(6,"Saturday");const n=document.querySelectorAll(".day-card"),c=(new Date).getDay()+1;let o=0;for(let e=c;e<7;e++)console.log(t.get(e)),n[o].querySelector("#day").innerText=t.get(e),o++;console.log(o);for(let e=0;e<c;e++)n[o].querySelector("#day").innerText=t.get(e),o++;n.forEach(((t,n)=>{t.querySelector("#day-temperature").innerText=Math.ceil(e.daily[n+1].temp.max)+"°";const c=e.daily[n].weather[0].main;"Clear"==c&&(t.querySelector("#img-day").src="https://img.icons8.com/cute-clipart/256/000000/sun.png"),"Clouds"==c&&(t.querySelector("#img-day").src="https://img.icons8.com/cute-clipart/256/000000/cloud.png"),"Rain"==c&&(t.querySelector("#img-day").src="https://img.icons8.com/cute-clipart/256/000000/cloud-lighting.png")}))}function o(e){const t=document.querySelector("#hourly-weather");t.innerHTML="";var n=(new Date).getHours();for(let c=0;c<24;c++){n>23&&(n=0);const o=document.createElement("div");o.classList.add("hour");const a=document.createElement("span");a.setAttribute("id","time");const r=document.createElement("span");r.setAttribute("id","time-weather");const i=document.createElement("img");i.setAttribute("id","time-img");const u=document.createElement("span");u.setAttribute("id","time-temp"),r.appendChild(i),console.log(o),o.appendChild(a),o.appendChild(r),o.appendChild(u),t.appendChild(o),a.innerText=n++;const l=e.hourly[c].weather[0].main;"Clear"==l&&(i.src="https://img.icons8.com/cute-clipart/256/000000/sun.png"),"Clouds"==l&&(i.src="https://img.icons8.com/cute-clipart/256/000000/cloud.png"),"Rain"==l&&(i.src="https://img.icons8.com/cute-clipart/256/000000/cloud-lighting.png"),u.innerText=Math.ceil(e.hourly[c].temp)+"°"}}function a(e){return`https://api.openweathermap.org/data/2.5/onecall?lat=${e.lat}&lon=${e.lon}&exclude=hourly&units=metric&appid=3d905e78a98f2c7c5aab470eae63c399`}function r(e){return`https://api.openweathermap.org/data/2.5/onecall?lat=${e.lat}&lon=${e.lon}&exclude=daily&units=metric&appid=3d905e78a98f2c7c5aab470eae63c399`}async function i(e){const t=await fetch(e),n=await t.json();if("404"==n.cod)return 0;const{coord:c}=n;return c.name=n.name,c.country=n.sys.country,c}async function u(e){const t=await fetch(e);return await t.json()}async function l(e){const t=await fetch(e);return await t.json()}e.addEventListener("click",(()=>{e.placeholder="Search location...",e.value=""})),e.addEventListener("keyup",(e=>{13===e.keyCode&&(e.preventDefault(),document.querySelector("#search-btn").click())})),document.querySelector("#search-btn").addEventListener("click",(async function(){const e=function(){const e=document.querySelector("#location-input").value;return e?e.replace(/(\s+$|^\s+)/g,"").replace(/(,\s+)/g,",").replace(/(\s+,)/g,",").replace(/\s+/g,"+"):""}();if(!e)return;const s=function(e){return`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=3d905e78a98f2c7c5aab470eae63c399`}(e),d=await i(s);if(!d)return void function(){const e=document.querySelector("#location-input");e.value="",e.placeholder="Location not found :("}();n(d);const p=a(d);console.log(p);const m=await u(p);console.log(m),console.log(t(m)),c(m);const y=r(d);o(await l(y))})),async function(){const e=await i("https://api.openweathermap.org/data/2.5/weather?q=Kyiv&APPID=3d905e78a98f2c7c5aab470eae63c399");n(e);const s=a(e),d=await u(s),p=r(e),m=await l(p);console.log(m),t(d),c(d),o(m)}()})();